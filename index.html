<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>台中簡媽媽狗園｜首頁</title>
<style>
:root {
  --green:#497f54;
  --mint:#9ed2a3;
  --bg:#f8f9f7;
}
body {
  margin:0; font-family:'Noto Sans TC',system-ui;
  background:var(--bg); color:#333;
}
header {
  background:var(--mint); color:#fff;
}
.nav {
  max-width:1100px; margin:auto;
  display:flex; justify-content:space-between; align-items:center;
  padding:1rem;
}
.nav a {
  color:#fff; text-decoration:none; margin-left:1rem; font-weight:600;
}
.hero {
  position:relative; width:100%; height:320px;
  background:url('images/hero-bg.jpg') center/cover no-repeat;
  display:flex; justify-content:center; align-items:center;
  color:#fff; text-shadow:0 0 8px rgba(0,0,0,.5);
}
.hero h1 {
  background:rgba(0,0,0,.4);
  padding:1rem 2rem; border-radius:12px;
  font-size:2rem;
}
.section {
  max-width:1100px; margin:2rem auto; padding:0 1rem;
}
.section h2 {
  color:var(--green); margin-bottom:.8rem;
  display:inline-block;
}
.section a.more {
  text-decoration:none;
  color:var(--green);
  font-size:1rem;
  margin-left:1rem;
}
.cards {
  display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:1rem;
}
.card {
  background:#fff; border-radius:12px;
  box-shadow:0 2px 8px rgba(0,0,0,.06);
  overflow:hidden; text-align:center;
}
.card img {
  width:100%; height:180px; object-fit:contain; background:#fafafa;
}
.card h3 {
  margin:.5rem 0 .2rem; color:#333;
}
.card p {
  margin:.1rem 0; font-size:.95rem;
}
footer {
  background:var(--green); color:#fff; text-align:center;
  padding:1rem; margin-top:2rem;
}
</style>
</head>
<body>
<header>
  <div class="nav">
    <div style="font-weight:800;">台中簡媽媽狗園</div>
    <nav>
      <a href="index.html">首頁</a>
      <a href="adoptlist.html">待認養</a>
      <a href="about.html">關於簡媽媽</a>
      <a href="login.html">管理員登入</a>
    </nav>
  </div>
</header>

<div class="hero">
  <h1>給牠一個溫暖的家</h1>
</div>

<main class="section">
  <h2>貓咪</h2><a href="cats.html" class="more">查看全部</a>
  <div id="cats" class="cards"></div>

  <h2 style="margin-top:2rem;">狗狗</h2><a href="dogs.html" class="more">查看全部</a>
  <div id="dogs" class="cards"></div>
</main>

<footer>© 2025 台中簡媽媽狗園</footer>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
import { getFirestore, collection, query, where, orderBy, limit, getDocs } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyADseNNkszDTbwEk4F03_rC0fo4Rnk0iBM",
  authDomain: "pet-adoption-32294.firebaseapp.com",
  projectId: "pet-adoption-32294",
  storageBucket: "pet-adoption-32294.firebasestorage.app",
  messagingSenderId: "102978803311",
  appId: "1:102978803311:web:a7d890096b2b23cad15f9a"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

async function load(type, containerId){
  const q = query(collection(db,"pets"), where("type","==",type), orderBy("createdAt","desc"), limit(4));
  const snap = await getDocs(q);
  const list = document.getElementById(containerId);
  list.innerHTML = "";
  snap.forEach(doc=>{
    const data = doc.data();
    const card = document.createElement("div");
    card.className="card";
    card.innerHTML=`
      <img src="${data.images?.[0] || 'images/default.jpg'}" alt="${data.name}">
      <h3>${data.name}</h3>
      <p>${data.breed || ''}</p>
      <p>${data.age || ''}・${data.gender || ''}</p>`;
    list.appendChild(card);
  });
}

load("cat","cats");
load("dog","dogs");
</script>
</body>
</html>
